<div mat-dialog-title class="dialog-title" id="name">
  <h2 *ngIf="listPartsByParentFilmKey.length == 1" class="text-application">No parts yet</h2>
  <h2 *ngIf="listPartsByParentFilmKey.length > 1" class="text-application">All parts</h2>
  <button mat-icon-button aria-label="close dialog" mat-dialog-close>
    <mat-icon>close</mat-icon>
  </button>
</div>
  
<mat-dialog-content>

  <div class="card" *ngFor="let movie of listPartsByParentFilmKey" style="margin-bottom: 20px !important;">

    <div class="card" style="flex-direction: row;border: white;">
      <img *ngIf="movie.imageUrl" [src]="movie.imageUrl">
      <img *ngIf="!movie.imageUrl" src="/assets/pictures/NoImageAvailable.png">
  
      <h3 class="text-application center-name-movie" (click)="copyText(movie.nameMovie)" style="font-weight: 600;width: 60%;">{{ movie.nameMovie }}</h3>
    </div>

    <div class="card-body">
        
      <div class="card-block text-application">
        <div class="gridForLegend">
          <div><dt>Year</dt></div>
          <div>
            <span *ngIf="movie.year">{{ movie.year }}</span>
            <span *ngIf="!movie.year">?</span>
          </div>
        </div>

        <br>

        <div class="gridForLegend">
          <div><dt>Status</dt></div>
          <div>
            <i *ngIf="movie.statusId == 1" class="fa fa-spinner fa-spin" style="color:goldenrod;"></i>
            <i *ngIf="movie.statusId == 2" class="fa fa-download" style="color: red;"></i>
            <i *ngIf="movie.statusId == 3 && !movie.notLiked" class="fa fa-eye" style="color: green;"></i>
            <i *ngIf="movie.statusId == 4" class="fa fa-eye" style="color: red;"></i>
            <i *ngIf="movie.statusId == 5" class="fa fa-search" style="color:#07609b;"></i>
            <i *ngIf="movie.notLiked" class="fa fa-thumbs-down" style="color: red;"></i>
          </div>
        </div>

        <br>

        <div *ngIf="movie.statusId == 1" class="gridForLegend">
          <div><dt>Check</dt></div>
          <div>
            <span *ngIf="movie.checkDate">{{ movie.checkDate | date: 'dd/MM/yyyy' }}</span>
            <span *ngIf="!movie.checkDate">?</span>
          </div>
        </div>

        <br *ngIf="movie.statusId == 1">

        <div *ngIf="movie.part" class="gridForLegend">
          <div><dt>Part</dt></div>
          <div>{{ movie.part }}</div>
        </div>

        <br *ngIf="movie.part">

        <div class="gridForLegend">
          <div><dt>Note</dt></div>
          <div>
            <mat-icon *ngIf="movie.note" style="color: black;" [ngStyle]="{'cursor': isDesktop ? 'pointer': ''}" (click)="viewNote(movie.note)">note</mat-icon>         
            <i *ngIf="!movie.note" class="fa fa-minus-circle"></i>
          </div>
        </div>
      </div>

      <br>
          
      <button 
        type="button"
        mat-button
        [matMenuTriggerFor]="menu" 
        class="style-button text-application center-btn">
        <mat-icon style="color: #07609b">calendar_view_day</mat-icon>
        Actions
      </button>
      <mat-menu #menu="matMenu" class="my-menu" xPosition="before">

        <button
          mat-menu-item 
          class="text-application"
          (click)="editMovie(movie)">
          <mat-icon style="color: #9C27B0">edit</mat-icon>
          Edit
        </button>
        
        <button
          *ngIf="movie.statusId == 1 && movie.path" 
          mat-menu-item 
          class="text-application"
          (click)="followLink(movie.path)">
          <mat-icon style="color: #3f51b5">remove_red_eye</mat-icon>
          Check
        </button>

        <button
          *ngIf="movie.statusId == 2 && movie.path" 
          mat-menu-item 
          class="text-application"
          (click)="followLink(movie.path)">
          <mat-icon style="color: green">cloud_download</mat-icon>
          Download
        </button>

        <button
          *ngIf="movie.statusId == 4 && movie.path"  
          mat-menu-item 
          class="text-application"
          (click)="followLink(movie.path)">
          <mat-icon style="color: #3f51b5">remove_red_eye</mat-icon>
          Watch
        </button>

        <button
          *ngIf="movie.statusId == 5 && movie.path" 
          mat-menu-item 
          class="text-application"
          (click)="followLink(movie.path)">
          <mat-icon style="color: #0e8999">search</mat-icon>
          Search
        </button>

        <button
          mat-menu-item 
          class="text-application"
          (click)="deleteMovie(movie.key)">
          <mat-icon style="color: #f44336;">delete</mat-icon>
          Delete
        </button>

      </mat-menu>
      
    </div>
  </div>

</mat-dialog-content>